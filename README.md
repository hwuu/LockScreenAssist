# 锁屏壁纸助手 (Lock Screen Quote Wallpaper)

一个自动生成名言警句锁屏壁纸的 HarmonyOS 应用，支持定时更新、智能选择和个性化定制。

## 功能特性

### 🕐 定时更新
- **多种频率选择**：支持每小时、每2小时、每4小时、每6小时、每12小时更新
- **定点更新**：支持每天特定时间更新（上午8点、中午12点、下午6点）
- **Crontab格式**：支持类似 Linux crontab 的时间表达式，精确到小时
- **后台运行**：即使应用不在前台，也能自动更新壁纸

### 🤖 智能选择算法
1. **随机选择**：从所有名言中随机选择
2. **根据季节**：根据当前季节选择相应的名言（春夏秋冬）
3. **根据天气**：根据天气情况选择匹配的名言（晴天、雨天、雪天等）
4. **智能选择**：综合考虑时间、季节、天气等因素，智能评分选择最合适的名言

### 🎨 自动优化
- **字体大小自适应**：根据名言长度自动调整字体大小，确保显示完整
- **背景色彩优化**：根据名言类别、季节、天气自动选择最佳配色方案
- **渐变背景**：支持美观的渐变色背景，提升视觉效果
- **文字对比度**：自动调整文字颜色确保良好的可读性

### 📱 用户界面
- **实时预览**：在应用中预览当前锁屏壁纸效果
- **一键更换**：点击按钮立即生成并应用新的壁纸
- **设置面板**：直观的设置界面，支持所有配置选项
- **壁纸信息**：显示当前壁纸的详细信息（类别、创建时间、季节等）

## 安装要求

- **系统版本**：HarmonyOS 5.1.1 或以上
- **设备类型**：手机
- **权限需求**：
  - 设置壁纸权限
  - 网络访问权限（获取天气信息）
  - 后台运行权限
  - 通知权限

## 使用方法

### 1. 基本使用
1. 安装并启动应用
2. 应用会自动生成第一张名言壁纸
3. 壁纸会自动应用到系统锁屏

### 2. 个性化设置
1. 点击右上角设置图标
2. 选择更新频率（默认每6小时）
3. 选择选择算法（推荐智能选择）
4. 开启或关闭自动优化功能
5. 点击"保存设置"

### 3. 手动更换
- 点击"立即更换"按钮手动生成新壁纸
- 点击"查看推荐"查看推荐的名言列表

## 运行机制

### 应用生命周期
应用采用HarmonyOS标准的生命周期管理：

1. **EntryAbility**：应用主入口，负责应用的启动和生命周期管理
2. **页面导航**：支持主页面和设置页面之间的导航
3. **状态保持**：应用在前台运行时维护壁纸更新状态
4. **数据备份**：EntryBackupAbility提供应用数据的备份和恢复功能

### 权限要求
应用需要以下系统权限：
- 设置壁纸权限：用于更改系统锁屏壁纸
- 网络访问权限：获取天气信息用于智能选择（可选）

## 名言数据库

应用内置丰富的名言警句数据库，包含：

### 分类
- **励志类**：激励人心的名言，适合早晨和工作时间
- **智慧类**：充满智慧的格言，适合学习和思考
- **诗词类**：优美的诗词名句，适合休闲时光
- **哲理类**：富含哲理的句子，适合深度思考

### 季节适配
- **春**：描写春天的诗词和积极向上的名言
- **夏**：适合夏日的清新励志句子
- **秋**：秋季收获和感悟相关的名言
- **冬**：冬日坚韧和温暖的句子

### 天气适配
- **晴天**：阳光积极的名言
- **雨天**：关于坚持和希望的句子
- **雪天**：关于纯洁和坚韧的名言

## 技术架构

### 核心模块
1. **QuoteData**：名言数据管理
2. **ScheduleConfig**：定时任务配置
3. **QuoteSelectionService**：名言选择服务
4. **WallpaperService**：壁纸生成服务

### 设计模式
- **服务层架构**：清晰的分层设计
- **配置驱动**：所有功能都支持配置化
- **策略模式**：选择算法可插拔
- **数据驱动**：基于数据结构的壁纸生成

### 技术特点
- **HarmonyOS 5.1.1**：基于最新鸿蒙系统开发
- **ArkTS**：使用声明式UI框架
- **模块化设计**：清晰的代码组织结构
- **类型安全**：完整的TypeScript类型支持

## 开发说明

### 项目结构
```
entry/src/main/ets/
├── common/                    # 公共模块
│   ├── QuoteData.ets         # 名言数据管理
│   └── ScheduleConfig.ets    # 定时任务配置
├── services/                  # 服务层
│   ├── QuoteSelectionService.ets  # 智能名言选择服务
│   └── WallpaperService.ets      # 壁纸生成与应用服务
├── pages/                     # 页面层
│   ├── Index.ets             # 主页面
│   └── Settings.ets          # 设置页面
├── entryability/             # 应用能力
│   └── EntryAbility.ets      # 应用生命周期管理
└── entrybackupability/       # 备份能力
    └── EntryBackupAbility.ets # 数据备份恢复
```

### 构建配置
- **oh-package.json5**：依赖管理和项目配置
- **build-profile.json5**：构建配置和编译选项
- **code-linter.json5**：代码质量检查配置

### 扩展开发
1. **添加新名言**：在 `QuoteData.ets` 中添加新的名言数据
2. **自定义算法**：在 `QuoteSelectionService.ets` 中实现新的选择算法
3. **样式定制**：在 `WallpaperService.ets` 中修改样式生成逻辑
4. **新增页面**：在 `pages/` 目录下添加新的功能页面
5. **数据管理**：扩展 `ScheduleConfig.ets` 支持新的配置选项

## 开发指南

### 开发环境要求
- **DevEco Studio**：4.1.1或更高版本
- **HarmonyOS SDK**：API版本 12 或更高
- **Node.js**：用于构建工具链
- **ArkTS/TypeScript**：主要开发语言

### 构建和运行
```bash
# 清理项目
hvigorw clean

# 构建项目
hvigorw assembleHap

# 预览模式构建
hvigorw --mode module -p module=entry@default -p product=default PreviewBuild
```

### 代码质量
项目配置了完整的代码质量检查工具：
- **ESLint**：通过 code-linter.json5 配置
- **TypeScript检查**：严格的类型检查
- **代码格式化**：通过 .clang-format 配置

## 常见问题

### Q: 如何添加自定义名言？
A: 开发者可以通过修改 `QuoteData.ets` 文件来添加新的名言数据，按照现有的数据结构格式添加即可。

### Q: 壁纸文字显示不完整怎么办？
A: 检查 `WallpaperService.ets` 中的字体大小自适应逻辑，可以调整字体大小计算算法或最小字体大小限制。

### Q: 如何修改壁纸样式？
A: 在 `WallpaperService.ets` 中可以修改背景色彩、渐变效果、文字排版等样式参数。

### Q: 构建失败怎么办？
A:
1. 检查DevEco Studio版本和SDK版本是否符合要求
2. 清理项目缓存：`hvigorw clean`
3. 重新安装依赖：删除oh_modules目录后重新构建
4. 检查代码语法错误和类型错误

## 项目特色

### 🚀 技术亮点
- **原生HarmonyOS应用**：完全基于HarmonyOS 5.1.1开发
- **ArkTS声明式UI**：使用最新的声明式UI框架
- **智能算法驱动**：多种智能选择算法确保内容的丰富性和适应性
- **高性能渲染**：优化的图像生成和壁纸应用流程
- **模块化架构**：清晰的代码组织和良好的可扩展性

### 🎯 设计理念
- **用户体验优先**：简洁直观的界面设计
- **智能化自动化**：减少用户操作，智能推荐合适内容
- **个性化定制**：丰富的配置选项满足不同用户需求
- **性能与美观并重**：在保证性能的前提下提供精美的视觉效果

## 版本历史

### v1.0.0 (当前版本)
- ✅ 基础功能实现
- ✅ 智能名言选择算法
- ✅ 自动字体和背景优化
- ✅ 设置页面和用户配置
- ✅ 响应式UI设计
- ✅ 完整的错误处理机制

## 许可证

本项目采用 MIT 许可证，详情请参见 LICENSE 文件。

## 贡献

欢迎提交 Issue 和 Pull Request 来帮助改进这个项目。

## 联系方式

如有问题或建议，请通过 GitHub Issues 联系我们。